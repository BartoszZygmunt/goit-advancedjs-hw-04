{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// renderowanie elementów na stronie\n\nexport default function renderImages(images) {\n  const container = document.getElementById('images-container');\n  images.forEach(image => {\n    console.log(image);\n\n    const a = document.createElement('a'); // <a></a>\n    a.href = image.largeImageURL;\n    a.classList.add('gallery-item');\n\n    const div = document.createElement('div'); //<a> <div></div> </a>\n    div.className = 'gallery-item-wrapper';\n    a.appendChild(div);\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags || 'Image';\n    img.classList.add('gallery-image');\n    div.appendChild(img); // <a> <div> <img></img> </div> </a>\n\n    const divInfo = document.createElement('div');\n    divInfo.classList.add('gallery-item-info');\n\n    // tworzę 4x div dla statystyk obrazu\n    //tworzę tablicę z nazwami opisów\n    const stats = ['Likes', 'Views', 'Comments', 'Downloads'];\n    //tworzę tablicę z nazwami kluczy w obiekcie\n    const keys = ['likes', 'views', 'comments', 'downloads'];\n\n    //pętla, która tworzy 4x divy, w każdym div nazwa oraz wartość w <span>\n    for (let i = 0; i < 4; i++) {\n      const divStat = document.createElement('div');\n      divStat.classList.add('gallery-item-info-element');\n\n      const spanName = document.createElement('span');\n      spanName.textContent = stats[i];\n      spanName.classList.add('gallery-item-info-element-name');\n\n      const spanValue = document.createElement('span');\n      spanValue.textContent = image[keys[i]];\n      spanValue.classList.add('gallery-item-info-element-value');\n\n      divStat.appendChild(spanName);\n      divStat.appendChild(spanValue);\n      divInfo.appendChild(divStat);\n    }\n\n    div.appendChild(divInfo); // <a> <div> <img></img> <div> stats </div> </div> </a>\n\n    // dodaj do kontenera\n    container.appendChild(a);\n    //lightbox.refresh();\n  });\n\n  //   return container;\n}\n","// żadania api\nimport renderImages from './render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { lightbox } from '../main.js';\nimport NProgress from 'nprogress';\nimport 'nprogress/nprogress.css';\n\nexport default function fetchPixabayImages(query) {\n  const API = 'https://pixabay.com/api/';\n  const KEY = '21202878-7eed95eba93d8479640dfcfe2';\n  const url = `${API}?key=${KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safeSearch=true`;\n  NProgress.configure({\n    showSpinner: true,\n    trickleSpeed: 500,\n  });\n  NProgress.start();\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        iziToast.error({\n          title: 'Error',\n          message: 'Network response was not ok',\n          position: 'topCenter',\n        });\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: 'No images found. Try another query.',\n          position: 'topCenter',\n        });\n        return;\n      }\n      //   wyczyść galerię\n      const container = document.getElementById('images-container');\n      container.innerHTML = '';\n      //   renderuj obrazy\n      renderImages(data.hits);\n      //odśwież lightbox\n      lightbox.refresh();\n      NProgress.done();\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n    });\n}\n","import fetchPixabayImages from './js/pixabay-api.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\n\n// Funkcja inicjująca SimpleLightbox\nexport let lightbox; //zasięg globalny\n\nfunction initializeLightbox() {\n  lightbox = new SimpleLightbox('#images-container a', {\n    /* Opcje konfiguracyjne */\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\ninitializeLightbox();\n\nconst form = document.querySelector('form');\nconst submitButton = form.querySelector('button[type=\"submit\"]');\n\nsubmitButton.addEventListener('click', event => {\n  event.preventDefault();\n  // funkcja odczytu danych z api\n  const input = form.querySelector('input').value.trim();\n  if (!input) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please fill out the form field.',\n      position: 'topCenter',\n      timeout: 2000,\n    });\n    return;\n  }\n  // funkcja odczytu danych z api pixabay\n  fetchPixabayImages(input);\n});\n"],"names":["renderImages","images","container","image","a","div","img","divInfo","stats","keys","i","divStat","spanName","spanValue","fetchPixabayImages","query","url","NProgress","response","iziToast","data","lightbox","error","initializeLightbox","SimpleLightbox","form","submitButton","event","input"],"mappings":"wyBAEe,SAASA,EAAaC,EAAQ,CAC3C,MAAMC,EAAY,SAAS,eAAe,kBAAkB,EAC5DD,EAAO,QAAQE,GAAS,CACtB,QAAQ,IAAIA,CAAK,EAEjB,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOD,EAAM,cACfC,EAAE,UAAU,IAAI,cAAc,EAE9B,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAY,uBAChBD,EAAE,YAAYC,CAAG,EAEjB,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,MAAQ,QACxBG,EAAI,UAAU,IAAI,eAAe,EACjCD,EAAI,YAAYC,CAAG,EAEnB,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,mBAAmB,EAIzC,MAAMC,EAAQ,CAAC,QAAS,QAAS,WAAY,WAAW,EAElDC,EAAO,CAAC,QAAS,QAAS,WAAY,WAAW,EAGvD,QAASC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMC,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,2BAA2B,EAEjD,MAAMC,EAAW,SAAS,cAAc,MAAM,EAC9CA,EAAS,YAAcJ,EAAME,CAAC,EAC9BE,EAAS,UAAU,IAAI,gCAAgC,EAEvD,MAAMC,EAAY,SAAS,cAAc,MAAM,EAC/CA,EAAU,YAAcV,EAAMM,EAAKC,CAAC,CAAC,EACrCG,EAAU,UAAU,IAAI,iCAAiC,EAEzDF,EAAQ,YAAYC,CAAQ,EAC5BD,EAAQ,YAAYE,CAAS,EAC7BN,EAAQ,YAAYI,CAAO,CAC5B,CAEDN,EAAI,YAAYE,CAAO,EAGvBL,EAAU,YAAYE,CAAC,CAE3B,CAAG,CAGH,CChDe,SAASU,EAAmBC,EAAO,CAGhD,MAAMC,EAAM,qEAAuB,mBACjCD,CACD,CAAA,2DACDE,EAAU,UAAU,CAClB,YAAa,GACb,aAAc,GAClB,CAAG,EACDA,EAAU,MAAK,EACf,MAAMD,CAAG,EACN,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAAC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACT,SAAU,WACpB,CAAS,EACK,IAAI,MAAM,6BAA6B,EAE/C,OAAOD,EAAS,MACtB,CAAK,EACA,KAAKE,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sCACT,SAAU,WACpB,CAAS,EACD,MACD,CAED,MAAMjB,EAAY,SAAS,eAAe,kBAAkB,EAC5DA,EAAU,UAAY,GAEtBF,EAAaoB,EAAK,IAAI,EAEtBC,EAAS,QAAO,EAChBJ,EAAU,KAAI,CACpB,CAAK,EACA,MAAMK,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACnD,CAAK,CACL,CC9CO,IAAID,EAEX,SAASE,GAAqB,CAC5BF,EAAW,IAAIG,EAAe,sBAAuB,CAEnD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CACAD,IAEA,MAAME,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAeD,EAAK,cAAc,uBAAuB,EAE/DC,EAAa,iBAAiB,QAASC,GAAS,CAC9CA,EAAM,eAAc,EAEpB,MAAMC,EAAQH,EAAK,cAAc,OAAO,EAAE,MAAM,OAChD,GAAI,CAACG,EAAO,CACVT,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kCACT,SAAU,YACV,QAAS,GACf,CAAK,EACD,MACD,CAEDL,EAAmBc,CAAK,CAC1B,CAAC"}