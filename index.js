import{i as a,N as f,a as I,S as b}from"./assets/vendor-ugilJLq8.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();function w(t){const r=document.getElementById("images-container");t.forEach(n=>{const i=document.createElement("a");i.href=n.largeImageURL,i.classList.add("gallery-item");const e=document.createElement("div");e.className="gallery-item-wrapper",i.appendChild(e);const o=document.createElement("img");o.src=n.webformatURL,o.alt=n.tags||"Image",o.classList.add("gallery-image"),e.appendChild(o);const s=document.createElement("div");s.classList.add("gallery-item-info");const c=["Likes","Views","Comments","Downloads"],m=["likes","views","comments","downloads"];for(let u=0;u<4;u++){const p=document.createElement("div");p.classList.add("gallery-item-info-element");const h=document.createElement("span");h.textContent=c[u],h.classList.add("gallery-item-info-element-name");const y=document.createElement("span");y.textContent=n[m[u]],y.classList.add("gallery-item-info-element-value"),p.appendChild(h),p.appendChild(y),s.appendChild(p)}e.appendChild(s),r.appendChild(i)}),v(!0)}function P(t){t.response?t.response.status===401?a.error({title:"Unauthorized",message:"Invalid API key. Please check your credentials.",position:"topCenter"}):t.response.status===500?a.error({title:"Server Error",message:"Server is currently unavailable. Please try again later.",position:"topCenter"}):a.error({title:"Error",message:`An error occurred: ${t.response.statusText}`,position:"topCenter"}):t.request?a.error({title:"Network Error",message:"No response from server. Please check your internet connection.",position:"topCenter"}):a.error({title:"Error",message:`An error occurred while setting up the request: ${t.message}`,position:"topCenter"}),console.error("Error fetching images:",t)}let g=0;f.configure({showSpinner:!0,trickleSpeed:500});async function L(t,r,n=!0,i=!1){const e="https://pixabay.com/api/",o="21202878-7eed95eba93d8479640dfcfe2";f.start();try{const c=(await I.get(e,{params:{key:o,q:t,image_type:"photo",orientation:"horizontal",safeSearch:!0,per_page:15,page:r}})).data;if(r==1&&(g=c.totalHits),c.total==0){a.error({title:"Error",message:"No images found. Try another query.",position:"topCenter"});return}const m=document.getElementById("images-container");if(!m){a.error({title:"Error",message:"Images container not found in the document.",position:"topCenter"}),f.done();return}n&&(m.innerHTML=""),w(c.hits),S(),i&&(a.info({title:"Info",message:`Total images found: ${g}`,position:"topCenter",timeout:5e3}),v(!1)),C.refresh()}catch(s){P(s)}finally{f.done()}}const S=()=>{window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"})};let l=1,d="",C;function q(){C=new b("#images-container a",{captions:!0,captionsData:"alt",captionDelay:250})}q();const E=document.querySelector("form");E.addEventListener("submit",t=>{if(t.preventDefault(),d=E.querySelector("input").value.trim(),d===""){a.error({title:"Error",message:"Please fill out the form field.",position:"topCenter",timeout:2e3}),v(!1),A();return}l=1,L(d,l),E.querySelector("input").value=""});function v(t){const r=document.querySelector("#load-more"),n=document.querySelector("#to-top");t==!0?(r.classList.remove("hidden"),n.classList.remove("hidden")):(r.classList.add("hidden"),n.classList.add("hidden"))}const x=document.getElementById("load-more");x.addEventListener("click",()=>{l+=1,console.log("page:",l),console.log("totalImages:",g),l*15>g?L(d,l,!1,!0):L(d,l,!1)});const A=()=>{console.log("clearing gallery111");const t=document.getElementById("images-container");t&&(console.log("clearing gallery"),t.innerHTML="")},N=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},B=document.getElementById("to-top");B.addEventListener("click",()=>{N()});
//# sourceMappingURL=index.js.map
