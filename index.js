import{i as a,N as d,a as C,S as b}from"./assets/vendor-ugilJLq8.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();function I(r){const o=document.getElementById("images-container");r.forEach(i=>{const s=document.createElement("a");s.href=i.largeImageURL,s.classList.add("gallery-item");const e=document.createElement("div");e.className="gallery-item-wrapper",s.appendChild(e);const t=document.createElement("img");t.src=i.webformatURL,t.alt=i.tags||"Image",t.classList.add("gallery-image"),e.appendChild(t);const n=document.createElement("div");n.classList.add("gallery-item-info");const v=["Likes","Views","Comments","Downloads"],L=["likes","views","comments","downloads"];for(let l=0;l<4;l++){const c=document.createElement("div");c.classList.add("gallery-item-info-element");const p=document.createElement("span");p.textContent=v[l],p.classList.add("gallery-item-info-element-name");const f=document.createElement("span");f.textContent=i[L[l]],f.classList.add("gallery-item-info-element-value"),c.appendChild(p),c.appendChild(f),n.appendChild(c)}e.appendChild(n),o.appendChild(s)}),E(!0)}function P(r){r.response?r.response.status===401?a.error({title:"Unauthorized",message:"Invalid API key. Please check your credentials.",position:"topCenter"}):r.response.status===500?a.error({title:"Server Error",message:"Server is currently unavailable. Please try again later.",position:"topCenter"}):a.error({title:"Error",message:`An error occurred: ${r.response.statusText}`,position:"topCenter"}):r.request?a.error({title:"Network Error",message:"No response from server. Please check your internet connection.",position:"topCenter"}):a.error({title:"Error",message:`An error occurred while setting up the request: ${r.message}`,position:"topCenter"}),console.error("Error fetching images:",r)}d.configure({showSpinner:!0,trickleSpeed:500});async function h(r,o){const i="https://pixabay.com/api/",s="21202878-7eed95eba93d8479640dfcfe2";d.start();try{const t=(await C.get(i,{params:{key:s,q:r,image_type:"photo",orientation:"horizontal",safeSearch:!0,per_page:15,page:o}})).data;if(t.total===0){a.error({title:"Error",message:"No images found. Try another query.",position:"topCenter"});return}const n=document.getElementById("images-container");if(!n){a.error({title:"Error",message:"Images container not found in the document.",position:"topCenter"}),d.done();return}n.innerHTML="",I(t.hits),y.refresh()}catch(e){P(e)}finally{d.done()}}let m=1,g="",y;function S(){y=new b("#images-container a",{captions:!0,captionsData:"alt",captionDelay:250})}S();const u=document.querySelector("form");u.addEventListener("submit",r=>{if(r.preventDefault(),console.log("Obsługa zdarzenia submit została wywołana"),g=u.querySelector("input").value.trim(),g===""){a.error({title:"Error",message:"Please fill out the form field.",position:"topCenter",timeout:2e3}),E(!1);return}m=1,h(g,m),u.querySelector("input").value=""});function E(r){const o=document.querySelector("#load-more");r===!0?o.classList.remove("hidden"):o.classList.add("hidden")}const w=document.getElementById("load-more");w.addEventListener("click",()=>{m+=1,h(u.querySelector("input").value.trim(),m)});
//# sourceMappingURL=index.js.map
